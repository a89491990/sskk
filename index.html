<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <title>ЁЯЪА Airdrop Project Manager тАУ Clean UI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(135deg, #4f46e5, #9333ea);
      min-height: 100vh;
      font-family: 'Inter', sans-serif;
    }
    .glass {
      background: rgba(255, 255, 255, 0.12);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
  </style>
</head>
<body class="text-white">
  <div class="container mx-auto px-6 py-10">
    <div class="flex justify-between items-center mb-8">
      <h1 class="text-3xl font-extrabold">ЁЯЪА Airdrop Manager</h1>
      <button id="addBtn" class="px-5 py-3 bg-indigo-500 hover:bg-indigo-600 rounded-xl font-semibold shadow-lg">
        тЮХ ржкрзНрж░ржЬрзЗржХрзНржЯ ржпрзЛржЧ ржХрж░рзБржи
      </button>
    </div>

    <div id="projectsGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    <div id="emptyState" class="hidden text-center text-lg opacity-90 mt-10">
      ЁЯУЛ ржХрзЛржирзЛ ржкрзНрж░ржЬрзЗржХрзНржЯ ржирзЗржЗ тАФ ржирждрзБржи ржкрзНрж░ржЬрзЗржХрзНржЯ ржпрзЛржЧ ржХрж░рзБржи
    </div>
  </div>

  <!-- Modal -->
  <div id="projectModal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50">
    <div class="glass rounded-3xl p-8 w-11/12 md:w-1/2">
      <h2 class="text-2xl font-bold mb-5">ржирждрзБржи ржкрзНрж░ржЬрзЗржХрзНржЯ</h2>
      <form id="projectForm">
        <div class="mb-4">
          <label class="block mb-1 text-sm">ржкрзНрж░ржЬрзЗржХрзНржЯ ржирж╛ржо</label>
          <input id="projectName" class="w-full p-3 rounded-lg text-black" required>
        </div>
        <div class="mb-4">
          <label class="block mb-1 text-sm">рж▓рж┐ржВржХ</label>
          <input id="projectLink" type="url" class="w-full p-3 rounded-lg text-black">
        </div>
        <div class="mb-4">
          <label class="block mb-1 text-sm">ржирзЛржЯ</label>
          <textarea id="projectNotes" class="w-full p-3 rounded-lg text-black"></textarea>
        </div>
        <div class="flex justify-end gap-3 mt-6">
          <button type="button" onclick="closeModal()" class="px-4 py-2 bg-gray-500 rounded-lg">ржмрж╛рждрж┐рж▓</button>
          <button type="submit" id="saveBtn" class="px-4 py-2 bg-indigo-500 hover:bg-indigo-600 rounded-lg">
            <span id="saveText">рж╕рзЗржн ржХрж░рзБржи</span>
            <span id="saveSpinner" class="hidden ml-2 w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getFirestore, collection, addDoc, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_APP.firebaseapp.com",
      projectId: "YOUR_APP",
    };
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const modal = document.getElementById("projectModal");
    const form = document.getElementById("projectForm");
    const saveBtn = document.getElementById("saveBtn");
    const saveText = document.getElementById("saveText");
    const saveSpinner = document.getElementById("saveSpinner");

    document.getElementById("addBtn").onclick = () => {
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    };
    window.closeModal = () => modal.classList.add("hidden");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      saveBtn.disabled = true;
      saveSpinner.classList.remove("hidden");
      saveText.textContent = "Saving...";

      const name = projectName.value.trim();
      const link = projectLink.value.trim();
      const notes = projectNotes.value.trim();

      await addDoc(collection(db, "projects"), {
        name, link, notes,
        createdAt: serverTimestamp(),
      });

      saveText.textContent = "Saved тЬЕ";
      setTimeout(() => {
        saveText.textContent = "рж╕рзЗржн ржХрж░рзБржи";
        saveSpinner.classList.add("hidden");
        saveBtn.disabled = false;
        closeModal();
        form.reset();
      }, 800);
    });

    const projectsGrid = document.getElementById("projectsGrid");
    const emptyState = document.getElementById("emptyState");

    onSnapshot(collection(db, "projects"), (snap) => {
      const projects = snap.docs.map(d => d.data());
      projectsGrid.innerHTML = "";
      if (projects.length === 0) {
        emptyState.classList.remove("hidden");
        return;
      }
      emptyState.classList.add("hidden");

      projects.forEach(p => {
        const card = document.createElement("div");
        card.className = "glass rounded-2xl p-5 transition transform hover:scale-[1.02]";
        card.innerHTML = `
          <h3 class="text-xl font-bold mb-1">${p.name}</h3>
          ${p.link ? `<a href="${p.link}" target="_blank" class="text-blue-300 underline">${p.link}</a>` : ""}
          ${p.notes ? `<p class="text-sm mt-2">${p.notes}</p>` : ""}
          <p class="text-xs text-gray-200 mt-3">${p.createdAt?.toDate ? p.createdAt.toDate().toLocaleString() : ""}</p>
        `;
        projectsGrid.appendChild(card);
      });
    });
  </script>
</body>
</html>
