<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Moro: The Seismic Warrior</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser-arcade-physics.min.js"></script>
    <style>
        body { margin: 0; background: #000; display: flex; justify-content: center; align-items: center; height: 100vh; }
        canvas { border: 2px solid #ff4d4d; box-shadow: 0 0 20px #ff4d4d; }
    </style>
</head>
<body>

<script>
const config = {
    type: Phaser.AUTO,
    width: 1000,
    height: 500,
    physics: {
        default: 'arcade',
        arcade: { gravity: { y: 1200 }, debug: false } // Debug true করলে হিটবক্স দেখা যাবে
    },
    scene: { preload: preload, create: create, update: update }
};

const game = new Phaser.Game(config);
let player;
let cursors;
let spaceKey;

function preload() {
    // এখানে আপনার ক্যারেক্টারের ছবিগুলো লোড হবে
    // বর্তমানে আমি ডামি হিসেবে একটি স্কিলড বক্স ব্যবহার করছি
    this.load.image('background', 'https://labs.phaser.io/assets/skies/space3.png');
}

function create() {
    this.add.image(500, 250, 'background').setScale(2);

    // মোরো ক্যারেক্টার তৈরি (Physics Body সহ)
    player = this.physics.add.sprite(100, 400, null);
    player.setSize(80, 120); // প্রফেশনাল হিটবক্স সাইজ
    player.setCollideWorldBounds(true);
    
    // ক্যারেক্টারকে মোরোর মতো কালার দেওয়া (টেস্ট করার জন্য)
    player.setTint(0x8B4513); 

    // কন্ট্রোল সেটআপ
    cursors = this.input.keyboard.createCursorKeys();
    spaceKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);

    // ফ্লোর বা মাটি তৈরি
    let platforms = this.physics.add.staticGroup();
    let ground = this.add.rectangle(500, 490, 1000, 20, 0x666666);
    platforms.add(ground);
    this.physics.add.collider(player, platforms);
}

function update() {
    // মুভমেন্ট লজিক - প্রফেশনাল স্মুথনেস
    if (cursors.left.isDown) {
        player.setVelocityX(-300);
        player.setFlipX(true); // বামে ঘুরবে
    } else if (cursors.right.isDown) {
        player.setVelocityX(300);
        player.setFlipX(false); // ডানে ঘুরবে
    } else {
        player.setVelocityX(0);
    }

    // জাম্পিং
    if (cursors.up.isDown && player.body.touching.down) {
        player.setVelocityY(-600);
    }

    // অ্যাটাক বা ঘুষি (Space Bar)
    if (Phaser.Input.Keyboard.JustDown(spaceKey)) {
        performAttack(this);
    }
}

function performAttack(scene) {
    // প্রফেশনাল অ্যাটাক ইফেক্ট (Shake screen)
    scene.cameras.main.shake(100, 0.01);
    
    // এখানে মোরোর হাতের অ্যানিমেশন ট্রিগার হবে
    player.setTint(0xff0000); // অ্যাটাকের সময় রঙ পরিবর্তন
    setTimeout(() => player.setTint(0x8B4513), 200);
}
</script>
</body>
</html>
